services:
  postgres:
    image: postgres:latest
    ports:
      - "5432:5432"
    environment:
      - POSTGRES_DB=postgres
      - POSTGRES_PASSWORD=postgres
    networks:
      - app_network
  rabbitmq:
    image: rabbitmq:3.9.29-management
    ports:
      - 15671:15671
      - 15672:15672
      - 5672:5672
  supertokens:
    image: registry.supertokens.io/supertokens/supertokens-postgresql
    depends_on:
      - postgres
    ports:
      - 3567:3567
    environment:
      - POSTGRESQL_USER=postgres
      - POSTGRESQL_PASSWORD=postgres
      - POSTGRESQL_HOST=postgres
      - POSTGRESQL_PORT=5432
      - POSTGRESQL_DATABASE_NAME=supertokens
    networks:
      - app_network

networks:
  app_network:
    driver: bridge