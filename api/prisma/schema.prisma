datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  userId      String        @id
  email       String        @unique
  firstName   String
  lastName    String
  userDomains DomainUsers[]

  @@map("user")
}

model Domain {
  domainId    String        @id
  slug        String        @unique
  name        String        @unique
  domainUsers DomainUsers[]

  @@map("domain")
}

model DomainUsers {
  domainId String
  userId   String
  domain   Domain @relation(fields: [domainId], references: [domainId])
  user     User   @relation(fields: [userId], references: [userId])

  @@id([domainId, userId])
  @@index([userId])
  @@index([domainId])
  @@map("domain_users")
}
